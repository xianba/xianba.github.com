---
title: "研报回测：华泰期货《CTA 量化策略因子系列（二）：动量因子》"
layout: post
category: Quant
tags: [Backtest]
excerpt: "我们都知道做投资最难的地方在于投资逻辑是否准确，如何验证逻辑的准确性是一门工程，从工科思维考虑就是通过历史数据做回测验证，以检验投资逻辑在历史中的表现，从而衡量投资逻辑的有效性。本文从华泰期货研报《20170925-华泰期货-CTA量化策略因子系列（二）：动量因子》入手，去论证动量因子是否有效。"
---

我们都知道做投资最难的地方在于投资逻辑是否准确，如何验证逻辑的准确性是一门工程，从工科思维考虑就是通过历史数据做回测验证，以检验投资逻辑在历史中的表现，从而衡量投资逻辑的有效性。本文从华泰期货研报《20170925-华泰期货-CTA量化策略因子系列（二）：动量因子》入手，去论证动量因子是否有效。
# 一、准备
巧妇难为无米之炊，首先我们需要准备成交量、动量和收益率的数据，收益率我们采用每天的涨跌幅来计算，动量也可以通过涨跌幅推导出来，所以我们要准备的数据是成交量和收益率数据，我们的数据是从Wind上下载下来的，没有Wind金融服务终端的读者可以到github上下载。
![提取Wind数据](/assets/img/posts/201802/20180201.png)
# 二、研究
为什么研报中认为动量因子是有效的？从严谨的态度角度去研究，我们第一步是做一些基础研究工作，动量因子跟收益率是什么关系，正向关系还是反向关系，这些都是需要我们认真去验证的，笔者在之前的文章中提到IC（信息系数），简单的说就是这期的因子值跟下期的收益率相关性怎么样。笔者做的相关性研究结果如下：
![因子与收益率相关系数](/assets/img/posts/201802/20180202.png)
通过目前上海、大连、郑州所有品种验证，基本上动量和收益率是成正向关系，不同品种的动量和收益率关系强弱会有差异，平均来说动量因子还是一个有效因子，通过这步的研究之后，我们基本上感觉到动量因子可能是个有效因子，需要我们继续深入下去研究。
# 三、研报复现
1. 剔除流动性影响因素。有过实盘经验的人都清楚，当市场流动性很差的时候，即使价格看其实有利可图，但实际参与进去的时候你会发现很难有收益，更有甚者亏损惨痛离场，所以基于流动性，笔者增加了一个过滤条件就是在排序期内平均成交量要大于10万手，当然不同的风险承受者可以有不一样的风险偏好。
2. 我们需要计算排序期内动量因子的值，然后根据每个品种动量因子的值排序，在这里我们把动量因子分成前、中、后三类，通过分层去验证因子的有效性。
3. 根据金融逻辑验证是否有效，统计并计算相应的评价指标，这里我们主要采用了年化收益率、最大回撤等。
![回测曲线](/assets/img/posts/201802/20180203.png)

***引用***
1. [W3CR语言教程](https://www.w3cschool.cn/r/r_operators.html)
2. [教你掌握量化分析的专业工具--因子IC/IR](https://xueqiu.com/1652627245/108835836)
3. [R：算术和逻辑运算符及数值](https://blog.csdn.net/thoixy/article/details/40429373)
4. [R笔记(排序+索引)20181028](https://blog.csdn.net/dogyii/article/details/83477264)
5.  [Github源代码](https://github.com/xianba/Jesus/tree/master/Finance/ResearchReport)
